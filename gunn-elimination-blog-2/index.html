<!DOCTYPE html>
<html lang="en">
<head>

    <title>Gunn Elimination Blog #2</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <link rel="preload" as="style" href="/assets/built/screen.css?v=fa3d82215d" />
    <link rel="preload" as="script" href="/assets/built/casper.js?v=fa3d82215d" />

    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css?v=fa3d82215d" />

    <meta name="description" content="Elimination updates since the last post. The game starts in 2 days!">
    <link rel="icon" href="https://blog.dylanlu.com/content/images/size/w256h256/2023/03/icon_ball.png" type="image/png">
    <link rel="canonical" href="https://blog.dylanlu.com/gunn-elimination-blog-2/">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <meta property="og:site_name" content="Dylan&#x27;s Dev Blog">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Gunn Elimination Blog #2">
    <meta property="og:description" content="Elimination updates since the last post. The game starts in 2 days!">
    <meta property="og:url" content="https://blog.dylanlu.com/gunn-elimination-blog-2/">
    <meta property="og:image" content="https://blog.dylanlu.com/content/images/2024/01/Screenshot-2024-01-27-131744-1.png">
    <meta property="article:published_time" content="2024-01-27T21:16:27.000Z">
    <meta property="article:modified_time" content="2024-01-27T21:19:47.000Z">
    <meta property="article:tag" content="Dev">
    
    <meta property="article:publisher" content="https://www.facebook.com/dylan.lu.982">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Gunn Elimination Blog #2">
    <meta name="twitter:description" content="Elimination updates since the last post. The game starts in 2 days!">
    <meta name="twitter:url" content="https://blog.dylanlu.com/gunn-elimination-blog-2/">
    <meta name="twitter:image" content="https://blog.dylanlu.com/content/images/2024/01/Screenshot-2024-01-27-131744-1.png">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Dylan Lu">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="Dev">
    <meta name="twitter:site" content="@ThePickleGawd">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="1084">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Dylan&#x27;s Dev Blog",
        "url": "https://blog.dylanlu.com/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://blog.dylanlu.com/content/images/size/w256h256/2023/03/icon_ball.png",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "Dylan Lu",
        "image": {
            "@type": "ImageObject",
            "url": "https://blog.dylanlu.com/content/images/2023/03/IMG_4955-2.jpg",
            "width": 1200,
            "height": 1258
        },
        "url": "https://blog.dylanlu.com/author/dylan/",
        "sameAs": [
            "https://dylanlu.com"
        ]
    },
    "headline": "Gunn Elimination Blog #2",
    "url": "https://blog.dylanlu.com/gunn-elimination-blog-2/",
    "datePublished": "2024-01-27T21:16:27.000Z",
    "dateModified": "2024-01-27T21:19:47.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://blog.dylanlu.com/content/images/2024/01/Screenshot-2024-01-27-131744-1.png",
        "width": 1200,
        "height": 1084
    },
    "keywords": "Dev",
    "description": "Elimination updates since the last post. The game starts in 2 days!",
    "mainEntityOfPage": "https://blog.dylanlu.com/gunn-elimination-blog-2/"
}
    </script>

    <meta name="generator" content="Ghost 5.85">
    <link rel="alternate" type="application/rss+xml" title="Dylan&#x27;s Dev Blog" href="https://blog.dylanlu.com/rss/">
    
    <script defer src="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/sodo-search.min.js" data-key="95cadc1cc0652e4ace5a304046" data-styles="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/main.css" data-sodo-search="https://blog.dylanlu.com/" crossorigin="anonymous"></script>
    
    <link href="https://blog.dylanlu.com/webmentions/receive/" rel="webmention">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism-themes/1.9.0/prism-vsc-dark-plus.min.css" integrity="sha512-ML8rkwYTFNcblPFx+VLgFIT2boa6f8DDP6p6go4+FT0/mJ8DCbCgi6S0UdjtzB3hKCr1zhU+YVB0AHhIloZP8Q==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<link rel="stylesheet" type="text/css" href="https://ghost.org/changelog/public/cards.min.js?v=d2955bb5c6">
<script defer="" src="https://ghost.org/changelog/public/cards.min.js?v=d2955bb5c6"></script>
<link rel="stylesheet" type="text/css" href="https://ghost.org/changelog/public/cards.min.css?v=db70eba112">
<script defer="" src="https://ghost.org/changelog/public/cards.min.css?v=db70eba112"></script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QDGM6S5BE1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-QDGM6S5BE1');
</script><style>:root {--ghost-accent-color: #252526;}</style>

</head>
<body class="post-template tag-dev is-head-left-logo has-sans-body has-cover">
<div class="viewport">

    <header id="gh-head" class="gh-head outer">
        <div class="gh-head-inner inner">
            <div class="gh-head-brand">
                <a class="gh-head-logo no-image" href="https://blog.dylanlu.com">
                        Dylan&#x27;s Dev Blog
                </a>
                <button class="gh-search gh-icon-btn" aria-label="Search this site" data-ghost-search><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button>
                <button class="gh-burger" aria-label="Main Menu"></button>
            </div>

            <nav class="gh-head-menu">
                <ul class="nav">
    <li class="nav-about"><a href="https://blog.dylanlu.com/about/">About</a></li>
    <li class="nav-timeline"><a href="https://blog.dylanlu.com/timeline/">Timeline</a></li>
    <li class="nav-raps"><a href="https://blog.dylanlu.com/raps/">Raps</a></li>
</ul>

            </nav>

            <div class="gh-head-actions">
                        <button class="gh-search gh-icon-btn" aria-label="Search this site" data-ghost-search><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button>
            </div>
        </div>
    </header>

    <div class="site-content">
        



<main id="site-main" class="site-main">
<article class="article post tag-dev ">

    <header class="article-header gh-canvas">

        <div class="article-tag post-card-tags">
                <span class="post-card-primary-tag">
                    <a href="/tag/dev/">Dev</a>
                </span>
        </div>

        <h1 class="article-title">Gunn Elimination Blog #2</h1>

            <p class="article-excerpt">Elimination updates since the last post. The game starts in 2 days!</p>

        <div class="article-byline">
        <section class="article-byline-content">

            <ul class="author-list">
                <li class="author-list-item">
                    <a href="/author/dylan/" class="author-avatar" aria-label="Read more of Dylan Lu">
                        <img class="author-profile-image" src="/content/images/size/w100/2023/03/IMG_4955-2.jpg" alt="Dylan Lu" />
                    </a>
                </li>
            </ul>

            <div class="article-byline-meta">
                <h4 class="author-name"><a href="/author/dylan/">Dylan Lu</a></h4>
                <div class="byline-meta-content">
                    <time class="byline-meta-date" datetime="2024-01-27">Jan 27, 2024</time>
                        <span class="byline-reading-time"><span class="bull">&bull;</span> 8 min read</span>
                </div>
            </div>

        </section>
        </div>

            <figure class="article-image">
                <img
                    srcset="/content/images/size/w300/2024/01/Screenshot-2024-01-27-131744-1.png 300w,
                            /content/images/size/w600/2024/01/Screenshot-2024-01-27-131744-1.png 600w,
                            /content/images/size/w1000/2024/01/Screenshot-2024-01-27-131744-1.png 1000w,
                            /content/images/size/w2000/2024/01/Screenshot-2024-01-27-131744-1.png 2000w"
                    sizes="(min-width: 1400px) 1400px, 92vw"
                    src="/content/images/size/w2000/2024/01/Screenshot-2024-01-27-131744-1.png"
                    alt="Gunn Elimination Blog #2"
                />
            </figure>

    </header>

    <section class="gh-content gh-canvas">
        <p>Gunn Elimination starts in 2 days and we have about 650 signups (250 more than last year)! Lately, I've been doing more logistical stuff, like handing out plushies and organizing the rules, but I've also added some new features.</p><p>But let's look at the site first.</p><h2 id="final-ui-design">Final UI Design</h2><p>Not too different from what I had previously, but I think it looks a little better. Since the game didn't start, a lot of the fields are left blank, so maybe I'll update it later.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://blog.dylanlu.com/content/images/2024/01/image-3.png" class="kg-image" alt="" loading="lazy" width="1889" height="986" srcset="https://blog.dylanlu.com/content/images/size/w600/2024/01/image-3.png 600w, https://blog.dylanlu.com/content/images/size/w1000/2024/01/image-3.png 1000w, https://blog.dylanlu.com/content/images/size/w1600/2024/01/image-3.png 1600w, https://blog.dylanlu.com/content/images/2024/01/image-3.png 1889w" sizes="(min-width: 720px) 720px"><figcaption><span style="white-space: pre-wrap;">/app</span></figcaption></figure><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://blog.dylanlu.com/content/images/2024/01/image-4.png" class="kg-image" alt="" loading="lazy" width="1893" height="987" srcset="https://blog.dylanlu.com/content/images/size/w600/2024/01/image-4.png 600w, https://blog.dylanlu.com/content/images/size/w1000/2024/01/image-4.png 1000w, https://blog.dylanlu.com/content/images/size/w1600/2024/01/image-4.png 1600w, https://blog.dylanlu.com/content/images/2024/01/image-4.png 1893w" sizes="(min-width: 720px) 720px"><figcaption><span style="white-space: pre-wrap;">/app/leaderboard</span></figcaption></figure><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://blog.dylanlu.com/content/images/2024/01/image-6.png" class="kg-image" alt="" loading="lazy" width="1893" height="988" srcset="https://blog.dylanlu.com/content/images/size/w600/2024/01/image-6.png 600w, https://blog.dylanlu.com/content/images/size/w1000/2024/01/image-6.png 1000w, https://blog.dylanlu.com/content/images/size/w1600/2024/01/image-6.png 1600w, https://blog.dylanlu.com/content/images/2024/01/image-6.png 1893w" sizes="(min-width: 720px) 720px"><figcaption><span style="white-space: pre-wrap;">/app/rules</span></figcaption></figure><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://blog.dylanlu.com/content/images/2024/01/image-7.png" class="kg-image" alt="" loading="lazy" width="1896" height="988" srcset="https://blog.dylanlu.com/content/images/size/w600/2024/01/image-7.png 600w, https://blog.dylanlu.com/content/images/size/w1000/2024/01/image-7.png 1000w, https://blog.dylanlu.com/content/images/size/w1600/2024/01/image-7.png 1600w, https://blog.dylanlu.com/content/images/2024/01/image-7.png 1896w" sizes="(min-width: 720px) 720px"><figcaption><span style="white-space: pre-wrap;">/app/profile/95030486</span></figcaption></figure><h2 id="supabase-pro">Supabase Pro</h2><p>I didn't want to take any risks since 650 people is a lot to deal with, so I paid for Supabase Pro, which comes with daily backups. Also, it's lowkey a scam since I had to pay an extra $10 to make it look like this. </p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://blog.dylanlu.com/content/images/2024/01/image-9.png" class="kg-image" alt="" loading="lazy" width="515" height="616"><figcaption><span style="white-space: pre-wrap;">No more "yihigqyfdifpodmnguxr.supabase.co"</span></figcaption></figure><p>But also like it broke for some other people so I may end up not going with the custom domain (so I basically wasted $35!).</p><h3 id="game-messages">Game Messages</h3><p>I made a new table to make messages since it's important to keep everyone updated. Pretty simple.</p><figure class="kg-card kg-image-card"><img src="https://blog.dylanlu.com/content/images/2024/01/image-10.png" class="kg-image" alt="" loading="lazy" width="758" height="393" srcset="https://blog.dylanlu.com/content/images/size/w600/2024/01/image-10.png 600w, https://blog.dylanlu.com/content/images/2024/01/image-10.png 758w" sizes="(min-width: 720px) 720px"></figure><h2 id="calendar-and-kill-cutoff">Calendar and Kill Cutoff</h2><p>We mostly used last year's rules, but we made the game longer and added some fun rules, like wearing JORTS.</p><p>This year, to avoid random people who don't play the game but just hide all week, we decided to implement a kill cutoff. Basically, if you don't have more than 1 kill by the end of the week, you're automatically eliminated. I might do a last-minute removal of this rule if not enough people will be left, but I think it's a cool rule this year.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://blog.dylanlu.com/content/images/2024/01/image-13.png" class="kg-image" alt="" loading="lazy" width="835" height="858" srcset="https://blog.dylanlu.com/content/images/size/w600/2024/01/image-13.png 600w, https://blog.dylanlu.com/content/images/2024/01/image-13.png 835w" sizes="(min-width: 720px) 720px"><figcaption><span style="white-space: pre-wrap;">Elimination Calendar 2024</span></figcaption></figure><h3 id="kill-cutoff-code">Kill Cutoff Code</h3><p>Not gonna lie, the code is terrible because I was lazy and used a little ChatGPT. It basically loads all players into a JS array, then filters out people with enough kills to stay alive. Then, we go one by one and delete the remaining people. It literally takes so long to load (like 20 seconds), so I'm worried that something might crash during the game. But hopefully not!</p><figure class="kg-card kg-code-card"><pre><code class="language-ts">import { error, json } from '@sveltejs/kit';

export const POST = async ({ url, locals: { supabaseAdmin, getSession, getRole }, request }) =&gt; {
	const role = await getRole();
	if (role !== 'Admin') {
		throw error(403, { message: 'Unauthorized' });
	}

	const { kill_requirement } = await request.json();

	if (!kill_requirement) throw error(422, 'Invalid kill_requirement');

	// Fetch all players
	const { data: playersData, error: playersError } = await supabaseAdmin
		.from('players')
		.select('*');

	if (!playersData || playersError) throw error(500, 'Error with players table');

	// Filter players with less than one kill
	const playersToUpdate = playersData.filter((player) =&gt; player.kill_arr.length &lt; kill_requirement);

	// Update these players
	for (const player of playersToUpdate) {
		const { error: updateError } = await supabaseAdmin
			.from('players')
			.update({ alive: false })
			.eq('id', player.id); // Assuming each player has a unique 'id' field

		if (updateError) {
			throw updateError;
		}
	}

	return json({ message: 'Successfully cutoff players' });
};
</code></pre><figcaption><p><span style="white-space: pre-wrap;">/api/game/admin/playercutoff</span></p></figcaption></figure><p>And while I was testing it out, I had a mini heart attack. I thought I deleted my entire players table (with 500 people at the time). Turns out, I just had a filter when viewing the table.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://blog.dylanlu.com/content/images/2024/01/image-11.png" class="kg-image" alt="" loading="lazy" width="1533" height="780" srcset="https://blog.dylanlu.com/content/images/size/w600/2024/01/image-11.png 600w, https://blog.dylanlu.com/content/images/size/w1000/2024/01/image-11.png 1000w, https://blog.dylanlu.com/content/images/2024/01/image-11.png 1533w" sizes="(min-width: 720px) 720px"><figcaption><span style="white-space: pre-wrap;">Mini heart attack</span></figcaption></figure><h2 id="more-code-updates">More Code Updates</h2><p>I have a lot of small improvements that I added as well.</p><h3 id="retain-kill-code-if-not-logged-in">Retain Kill Code If Not Logged In</h3><p>When scanning a QR code, it will open a browser and attempt the kill. But it won't work if you're not logged in. This was bad because then you'd have to log in and then scan the code again.</p><p>Basically, if we're not logged in, then we'll redirect to <code>/login?killcode=[kill_code_here]</code>. On the login page, we'll check if there's a code and save it to localstorage.</p>
<pre><code class="language-ts">onMount(() =&gt; {
    if (killcode) {
        localStorage.setItem('loginkillcode', killcode);
    }

    loaded = true;
});</code></pre><p>Then when we go to the app homepage, we'll check for a killcode in localStorage and try it.</p><pre><code class="language-ts">onMount(async () =&gt; {
    const loginkillcode = localStorage.getItem('loginkillcode');
    if (loginkillcode) {
        inputKillCode = loginkillcode;
        localStorage.removeItem('loginkillcode');
        await submitCode();
    }
});</code></pre><h3 id="fixing-big-security-vulnerability">Fixing BIG Security Vulnerability</h3><p>Try finding the issue with this.</p><figure class="kg-card kg-code-card"><pre><code class="language-ts">import { json, error } from '@sveltejs/kit';

export const POST = async ({ url, locals: { supabaseAdmin, getSession, getRole }, request }) =&gt; {

	const { student_id } = await request.json();

	// killedPlayer = the player we're force killing
	// originalPlayer = the player who had this guy as the target

	const { data: killedPlayer } = await supabaseAdmin
		.from('players')
		.select('id')
		.eq('student_id', student_id)
		.single();

	if (!killedPlayer) throw error(500, 'Error fetching player with that student id');

	// Delete the player's entry in the targets table
	const { data: killedPlayerTarget } = await supabaseAdmin
		.from('targets')
		.select('target')
		.eq('id', killedPlayer.id)
		.single();
	if (!killedPlayerTarget) throw error(500, 'Error deleting target');

	// Delete the player's entry in the targets table
	const { error: deleteError } = await supabaseAdmin
		.from('targets')
		.delete()
		.eq('id', killedPlayer.id);
	if (deleteError) throw error(500, 'Error deleting target');

	// Player's target is not alive anymore
	const { error: updateTargetAliveError } = await supabaseAdmin
		.from('players')
		.update({ alive: false })
		.eq('id', killedPlayer.id);
	if (updateTargetAliveError) throw error(500, 'Error updating target alive status');

	// Get the player who had this player
	const { data: originalPlayerTargetData, error: getPlayerError } = await supabaseAdmin
		.from('targets')
		.select('id')
		.eq('target', killedPlayer.id)
		.single();
	if (!originalPlayerTargetData) throw error(500, 'Error fetching the original player target data');

	const { data: originalPlayer } = await supabaseAdmin
		.from('players')
		.select('*')
		.eq('id', originalPlayerTargetData.id)
		.single();
	if (!originalPlayer) throw error(500, 'Error fetching original player');

	const { error: updateError } = await supabaseAdmin
		.from('players')
		.update({ kill_arr: [...originalPlayer.kill_arr, killedPlayer.id] })
		.eq('id', originalPlayer.id);
	if (updateError) throw error(500, 'Error updating player data');

	// Record kill in kill_feed table
	const { error: killFeedError } = await supabaseAdmin
		.from('kill_feed')
		.insert({ player_id: originalPlayer.id, target_id: killedPlayer.id });
	if (killFeedError) throw error(500, 'Error inserting into kill feed');

	// Update player's target to the target's target
	const { error: setNewTargetError } = await supabaseAdmin
		.from('targets')
		.update({ target: killedPlayerTarget.target })
		.eq('id', originalPlayer.id);
	if (setNewTargetError) throw error(500, 'Error setting new target');

	// Redirect to app or return success
	return json({ mesage: 'Successfully force killed player' });
};
</code></pre><figcaption><p><span style="white-space: pre-wrap;">/api/game/admin/forcekillplayer</span></p></figcaption></figure><p>If you're me, then you probably found it. But if you're not, then you have no idea what I'm talking about lol.</p><p>If I didn't include this below, then anyone can force-kill players, so long as they know how to do a POST request.</p><figure class="kg-card kg-code-card"><pre><code class="language-ts">const role = await getRole();
if (role !== 'Admin') {
    throw error(403, { message: 'Unauthorized' });
}

</code></pre><figcaption><p><span style="white-space: pre-wrap;">Checking for permission</span></p></figcaption></figure><p>Obviously that's really bad, so good thing I found it!</p><h3 id="backup-database-as-csv">Backup Database as CSV</h3><p>I wrote this before I decided to pay for Supabase Pro, but I think it was a cool thing to learn regardless.</p><p>Basically, I had lot's of help from Google and ChatGPT to figure out how to download my table as a CSV file.</p><figure class="kg-card kg-code-card"><pre><code class="language-ts">import { error } from '@sveltejs/kit';
import JSZip from 'jszip';
import { format } from 'date-fns'; // TODO: make this work with dayjs cuz I don't need two date packages

export const GET = async ({ locals: { supabaseAdmin, getRole } }) =&gt; {
	const role = await getRole();
	if (role !== 'Admin') {
		throw error(403, { message: 'Unauthorized' });
	}

	const tables = ['players', 'kill_feed', 'targets'];
	const zip = new JSZip();
	const folderName = format(new Date(), 'yyyy-MM-dd');
	const folder = zip.folder(folderName);

	if (!folder) throw error(500, 'Error creating folder');

	for (const table of tables) {
		const { data, error: tableError } = await supabaseAdmin.from(table).select('*').csv();
		if (tableError) throw error(500, `Error fetching ${table}`);
		folder.file(`${table}.csv`, data);
	}

	const zipBlob = await zip.generateAsync({ type: 'blob' });

	return new Response(zipBlob, {
		status: 200,
		headers: {
			'Content-Disposition': `attachment; filename="${folderName}.zip"`,
			'Content-Type': 'application/zip'
		}
	});
};
</code></pre><figcaption><p><span style="white-space: pre-wrap;">/api/game/admin/backuptable</span></p></figcaption></figure><p>We can then do a get request and download the blobs, or whatever that means.</p><figure class="kg-card kg-code-card"><pre><code class="language-ts">const exportTables = async () =&gt; {
    // Download zip (based on ChatGPT)
    try {
        const response = await fetch($page.url.origin + '/api/game/admin/backuptable');
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }

        const blob = await response.blob();
        const url = window.URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'tables.zip';
        document.body.appendChild(a);
        a.click();
        window.URL.revokeObjectURL(url);
        document.body.removeChild(a);
    } catch (error) {
        console.error('Error:', error);
    }
};
</code></pre><figcaption><p><span style="white-space: pre-wrap;">Function to Download Zip Files</span></p></figcaption></figure><h3 id="get-todays-challenge">Get Today's Challenge</h3><p>Do display the current challenge, I just hard coded a function to return the right string given the date. I used ChatGPT to turn my table into a switch statement, cuz that's a lot of manual labor.</p><pre><code class="language-ts">// Lol thanks ChatGPT
export function getTodaysChallenge() {
	const currentDate = new Date();
	const day = currentDate.getDate();
	let rule = '';

	switch (day) {
		case 28:
			rule = 'Targets Assigned 10 PM (Sign ups close)';
			break;
		case 29:
			rule = 'GAME STARTS. 12 AM: To stay safe, players must hold the animal with their right hand';
			break;
		case 30:
			rule = 'To stay safe, players must be holding the animal with both hands';
			break;
		case 31:
			rule = 'Targets Change at 10 PM: To stay safe, players must be holding animal BELOW waist';
			break;
		case 1:
			rule = 'To stay safe, players must be holding animal ABOVE their shoulder';
			break;
		case 2:
			rule = 'To stay safe, players must be under a roof or overhang';
			break;
		case 3:
			rule =
				'Targets Change at 10 PM: Players with less than one kill are automatically eliminated';
			break;
		case 4:
		case 11:
		case 16:
		case 19:
			rule = 'On weekends, players must abide by all rules and must carry a plushie to be safe';
			break;
		case 5:
			rule = 'To stay safe, players must be touching a wall';
			break;
		case 6:
			rule = 'To stay safe, players must be wearing a HAT.';
			break;
		case 7:
			rule = 'Targets Change at 10 PM: To stay safe, players must be wearing JORTS (jean shorts).';
			break;
		case 8:
			rule = 'To stay safe, players must be wearing a wig';
			break;
		case 9:
			rule = 'To stay safe, players must be SITTING OR LAYING DOWN ON THE GROUND.';
			break;
		case 10:
			rule =
				'Targets Change at 10 PM: Players with less than two kills are automatically eliminated';
			break;
		case 12:
			rule = 'To eliminate others, players must have at least one shoe off.';
			break;
		case 13:
			rule = 'To eliminate others, players must be carrying a football in one hand.';
			break;
		case 14:
			rule =
				'Targets Change at 10 PM:. To eliminate others, players must give their target a flower immediately after eliminating them.';
			break;
		case 15:
			rule = 'To eliminate others, players must be wearing a tie around their neck.';
			break;
		case 20:
			rule = 'NO ONE IS SAFE. (can be tagged anytime even w/animal)';
			break;
		default:
			rule = 'On weekends, players must abide by all rules and must carry a plushie to be safe';
			break;
	}
	return rule;
}
</code></pre><h2 id="conclusion">Conclusion</h2><p>That's it for now. I might do another post if something big happens. My friend asked to help improve the UI like yesterday, but I told him it was too late and I didn't want to give him the secret keys since something could accidentally go wrong. I'm hoping the game goes well, and that I can at least make top 10.</p><p>Also, we are considering doing an unofficial senior assassin, with water guns and no safety zones. That will be way more fun and crazy in my opinion.</p>
    </section>


</article>
</main>




            <aside class="read-more-wrap outer">
                <div class="read-more inner">
                        
<article class="post-card post">

    <a class="post-card-image-link" href="/mips-interpreter/">

        <img class="post-card-image"
            srcset="/content/images/size/w300/2025/02/6354-1.jpg 300w,
                    /content/images/size/w600/2025/02/6354-1.jpg 600w,
                    /content/images/size/w1000/2025/02/6354-1.jpg 1000w,
                    /content/images/size/w2000/2025/02/6354-1.jpg 2000w"
            sizes="(max-width: 1000px) 400px, 800px"
            src="/content/images/size/w600/2025/02/6354-1.jpg"
            alt="Building a MIPS Assembly Interpreter in Python"
            loading="lazy"
        />


    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="/mips-interpreter/">
            <header class="post-card-header">
                <div class="post-card-tags">
                </div>
                <h2 class="post-card-title">
                    Building a MIPS Assembly Interpreter in Python
                </h2>
            </header>
                <div class="post-card-excerpt">Building a MIPS interpreter from scratch with Python.</div>
        </a>

        <footer class="post-card-meta">
            <time class="post-card-meta-date" datetime="2025-02-16">Feb 16, 2025</time>
                <span class="post-card-meta-length">4 min read</span>
        </footer>

    </div>

</article>
                        
<article class="post-card post">

    <a class="post-card-image-link" href="/sbhacks-2025/">

        <img class="post-card-image"
            srcset="/content/images/size/w300/2025/01/image-3.jpg 300w,
                    /content/images/size/w600/2025/01/image-3.jpg 600w,
                    /content/images/size/w1000/2025/01/image-3.jpg 1000w,
                    /content/images/size/w2000/2025/01/image-3.jpg 2000w"
            sizes="(max-width: 1000px) 400px, 800px"
            src="/content/images/size/w600/2025/01/image-3.jpg"
            alt="SBHacks 2025: 1st Place Entertainment"
            loading="lazy"
        />


    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="/sbhacks-2025/">
            <header class="post-card-header">
                <div class="post-card-tags">
                </div>
                <h2 class="post-card-title">
                    SBHacks 2025: 1st Place Entertainment
                </h2>
            </header>
                <div class="post-card-excerpt">During SBHacks 2025 we won best entertainment app with Baddy Buddy: Advanced Analytics for Badminton.</div>
        </a>

        <footer class="post-card-meta">
            <time class="post-card-meta-date" datetime="2025-01-16">Jan 16, 2025</time>
                <span class="post-card-meta-length">6 min read</span>
        </footer>

    </div>

</article>
                        
<article class="post-card post">

    <a class="post-card-image-link" href="/christmas-break-24-25/">

        <img class="post-card-image"
            srcset="/content/images/size/w300/2025/01/1.jpg 300w,
                    /content/images/size/w600/2025/01/1.jpg 600w,
                    /content/images/size/w1000/2025/01/1.jpg 1000w,
                    /content/images/size/w2000/2025/01/1.jpg 2000w"
            sizes="(max-width: 1000px) 400px, 800px"
            src="/content/images/size/w600/2025/01/1.jpg"
            alt="Christmas Break 24-25"
            loading="lazy"
        />


    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="/christmas-break-24-25/">
            <header class="post-card-header">
                <div class="post-card-tags">
                </div>
                <h2 class="post-card-title">
                    Christmas Break 24-25
                </h2>
            </header>
                <div class="post-card-excerpt">It&#39;s really nice not having school.</div>
        </a>

        <footer class="post-card-meta">
            <time class="post-card-meta-date" datetime="2025-01-07">Jan 7, 2025</time>
                <span class="post-card-meta-length">4 min read</span>
        </footer>

    </div>

</article>
                </div>
            </aside>



    </div>

    <footer class="site-footer outer">
        <div class="inner">
            <section class="copyright"><a href="https://blog.dylanlu.com">Dylan&#x27;s Dev Blog</a> &copy; 2025</section>
            <nav class="site-footer-nav">
                
            </nav>
            <div class="gh-powered-by"><a href="https://ghost.org/" target="_blank" rel="noopener">Powered by Ghost</a></div>
        </div>
    </footer>

</div>

    <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="pswp__bg"></div>

    <div class="pswp__scroll-wrap">
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>
<script
    src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous">
</script>
<script src="/assets/built/casper.js?v=fa3d82215d"></script>
<script>
$(document).ready(function () {
    // Mobile Menu Trigger
    $('.gh-burger').click(function () {
        $('body').toggleClass('gh-head-open');
    });
    // FitVids - Makes video embeds responsive
    $(".gh-content").fitVids();
});
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/components/prism-core.min.js" integrity="sha512-9khQRAUBYEJDCDVP2yw3LRUQvjJ0Pjx0EShmaQjcHa6AXiOv6qHQu9lCAIR8O+/D8FtaCoJ2c0Tf9Xo7hYH01Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/autoloader/prism-autoloader.min.js" integrity="sha512-fTl/qcO1VgvKtOMApX2PdZzkziyr2stM65GYPLGuYMnuMm1z2JLJG6XVU7C/mR+E7xBUqCivykuhlzfqxXBXbg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</body>
</html>
