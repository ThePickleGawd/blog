<!DOCTYPE html>
<html lang="en">
<head>

    <title>RSSI Calibration For Better BLE Proximity</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <link rel="preload" as="style" href="/assets/built/screen.css?v=b04e58d8db" />
    <link rel="preload" as="script" href="/assets/built/casper.js?v=b04e58d8db" />

    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css?v=b04e58d8db" />

    <meta name="description" content="Exploring a potential solution for RSSI issues in my LunchTrak project">
    <link rel="icon" href="https://blog.dylanlu.com/content/images/size/w256h256/2023/03/icon_ball.png" type="image/png">
    <link rel="canonical" href="https://blog.dylanlu.com/rssi-calibration-for-better-ble-proximity/">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <meta property="og:site_name" content="Dylan&#x27;s Dev Blog">
    <meta property="og:type" content="article">
    <meta property="og:title" content="RSSI Calibration For Better BLE Proximity">
    <meta property="og:description" content="Exploring a potential solution for RSSI issues in my LunchTrak project">
    <meta property="og:url" content="https://blog.dylanlu.com/rssi-calibration-for-better-ble-proximity/">
    <meta property="og:image" content="https://blog.dylanlu.com/content/images/2023/04/PA_Image-1.jpg">
    <meta property="article:published_time" content="2023-04-24T04:53:00.000Z">
    <meta property="article:modified_time" content="2023-06-25T05:32:31.000Z">
    <meta property="article:tag" content="LunchTrak">
    
    <meta property="article:publisher" content="https://www.facebook.com/dylan.lu.982">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="RSSI Calibration For Better BLE Proximity">
    <meta name="twitter:description" content="Exploring a potential solution for RSSI issues in my LunchTrak project">
    <meta name="twitter:url" content="https://blog.dylanlu.com/rssi-calibration-for-better-ble-proximity/">
    <meta name="twitter:image" content="https://blog.dylanlu.com/content/images/2023/04/PA_Image-1.jpg">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Dylan Lu">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="LunchTrak">
    <meta name="twitter:site" content="@ThePickleGawd">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="800">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Dylan&#x27;s Dev Blog",
        "url": "https://blog.dylanlu.com/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://blog.dylanlu.com/content/images/size/w256h256/2023/03/icon_ball.png",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "Dylan Lu",
        "image": {
            "@type": "ImageObject",
            "url": "https://blog.dylanlu.com/content/images/2023/03/IMG_4955-2.jpg",
            "width": 2000,
            "height": 2096
        },
        "url": "https://blog.dylanlu.com/author/dylan/",
        "sameAs": [
            "https://dylanlu.com"
        ]
    },
    "headline": "RSSI Calibration For Better BLE Proximity",
    "url": "https://blog.dylanlu.com/rssi-calibration-for-better-ble-proximity/",
    "datePublished": "2023-04-24T04:53:00.000Z",
    "dateModified": "2023-06-25T05:32:31.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://blog.dylanlu.com/content/images/2023/04/PA_Image-1.jpg",
        "width": 1200,
        "height": 800
    },
    "keywords": "LunchTrak",
    "description": "Exploring a potential solution for RSSI issues in my LunchTrak project",
    "mainEntityOfPage": "https://blog.dylanlu.com/rssi-calibration-for-better-ble-proximity/"
}
    </script>

    <meta name="generator" content="Ghost 5.69">
    <link rel="alternate" type="application/rss+xml" title="Dylan&#x27;s Dev Blog" href="https://blog.dylanlu.com/rss/">
    
    <script defer src="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/sodo-search.min.js" data-key="95cadc1cc0652e4ace5a304046" data-styles="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/main.css" data-sodo-search="https://blog.dylanlu.com/" crossorigin="anonymous"></script>
    
    <link href="https://blog.dylanlu.com/webmentions/receive/" rel="webmention">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism-themes/1.9.0/prism-vsc-dark-plus.min.css" integrity="sha512-ML8rkwYTFNcblPFx+VLgFIT2boa6f8DDP6p6go4+FT0/mJ8DCbCgi6S0UdjtzB3hKCr1zhU+YVB0AHhIloZP8Q==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<link rel="stylesheet" type="text/css" href="https://ghost.org/changelog/public/cards.min.js?v=d2955bb5c6">
<script defer="" src="https://ghost.org/changelog/public/cards.min.js?v=d2955bb5c6"></script>
<link rel="stylesheet" type="text/css" href="https://ghost.org/changelog/public/cards.min.css?v=db70eba112">
<script defer="" src="https://ghost.org/changelog/public/cards.min.css?v=db70eba112"></script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QDGM6S5BE1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-QDGM6S5BE1');
</script><style>:root {--ghost-accent-color: #252526;}</style>

</head>
<body class="post-template tag-lunchtrak is-head-left-logo has-sans-body has-cover">
<div class="viewport">

    <header id="gh-head" class="gh-head outer">
        <div class="gh-head-inner inner">
            <div class="gh-head-brand">
                <a class="gh-head-logo no-image" href="https://blog.dylanlu.com">
                        Dylan&#x27;s Dev Blog
                </a>
                <button class="gh-search gh-icon-btn" aria-label="Search this site" data-ghost-search><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button>
                <button class="gh-burger"></button>
            </div>

            <nav class="gh-head-menu">
                <ul class="nav">
    <li class="nav-about"><a href="https://blog.dylanlu.com/about/">About</a></li>
    <li class="nav-timeline"><a href="https://blog.dylanlu.com/timeline/">Timeline</a></li>
    <li class="nav-raps"><a href="https://blog.dylanlu.com/raps/">Raps</a></li>
</ul>

            </nav>

            <div class="gh-head-actions">
                        <button class="gh-search gh-icon-btn" data-ghost-search><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button>
            </div>
        </div>
    </header>

    <div class="site-content">
        



<main id="site-main" class="site-main">
<article class="article post tag-lunchtrak ">

    <header class="article-header gh-canvas">

        <div class="article-tag post-card-tags">
                <span class="post-card-primary-tag">
                    <a href="/tag/lunchtrak/">LunchTrak</a>
                </span>
        </div>

        <h1 class="article-title">RSSI Calibration For Better BLE Proximity</h1>

            <p class="article-excerpt">Exploring a potential solution for RSSI issues in my LunchTrak project</p>

        <div class="article-byline">
        <section class="article-byline-content">

            <ul class="author-list">
                <li class="author-list-item">
                    <a href="/author/dylan/" class="author-avatar">
                        <img class="author-profile-image" src="/content/images/size/w100/2023/03/IMG_4955-2.jpg" alt="Dylan Lu" />
                    </a>
                </li>
            </ul>

            <div class="article-byline-meta">
                <h4 class="author-name"><a href="/author/dylan/">Dylan Lu</a></h4>
                <div class="byline-meta-content">
                    <time class="byline-meta-date" datetime="2023-04-23">Apr 23, 2023</time>
                        <span class="byline-reading-time"><span class="bull">&bull;</span> 1 min read</span>
                </div>
            </div>

        </section>
        </div>

            <figure class="article-image">
                <img
                    srcset="/content/images/size/w300/2023/04/PA_Image-1.jpg 300w,
                            /content/images/size/w600/2023/04/PA_Image-1.jpg 600w,
                            /content/images/size/w1000/2023/04/PA_Image-1.jpg 1000w,
                            /content/images/size/w2000/2023/04/PA_Image-1.jpg 2000w"
                    sizes="(min-width: 1400px) 1400px, 92vw"
                    src="/content/images/size/w2000/2023/04/PA_Image-1.jpg"
                    alt="RSSI Calibration For Better BLE Proximity"
                />
            </figure>

    </header>

    <section class="gh-content gh-canvas">
        <p>After meeting with Dave over lunch, we came up with the idea to "calibrate" the RSSI threshold for the check-in system before the student walks to the exit. The problem with how it is currently set up is that depending on the orientation of the beacon, the RSSI can significantly differ from other beacons, meaning that there is no "perfect" RSSI threshold to check students in. Here's how I imagine this new calibration system:</p><ul><li>The "calibration" scanners come either at the entrance or can be placed behind the real scanners (at least 1-2 meters).</li><li>They will record the maximum average RSSI for any student ID and will report this number to the main scanner. Any filtering techniques will be applicable</li><li>The main scanner will now look for the RSSI threshold set by the calibration scanner</li></ul><p>One problem I envision right away is that if someone is walking around the exit (who did not go to the line), the calibration scanner will detect a lower RSSI and allow the main scanner to scan them in. This behavior is a huge issue. I think the best solution to this problem is to have a bare minimum RSSI that the calibration and main sensor must meet, like -70dbm for example.</p><p>Randomly, here's my new packet design to handle the calibrator vs extender packet. The "-80" will be replaced with the actual RSSI, and the five digits are the student ID numbers without the "950".</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://blog.dylanlu.com/content/images/2023/04/image-13.png" class="kg-image" alt loading="lazy" width="394" height="117"><figcaption>Calibrator/Extender Packet</figcaption></figure><p>Update (4/23/23): It's been two months and I have procrastinated on writing this article for too long. The calibration kinda works, but it is actually not needed. The people will be very close to the scanner and will likely not block the RSSI too much. Here's one of my first attempts with the calibrator:</p><!--kg-card-begin: html--><div>
  <div style="position:relative;padding-top:56.25%;">
    <iframe src="https://drive.google.com/file/d/1Kiu3jTkQvZ4yAaFa-SP6ZI3VLeKq7ngX/preview" frameborder="0" allowfullscreen style="position:absolute;top:0;left:0;width:100%;height:100%;">
  </iframe></div>
</div><!--kg-card-end: html-->
    </section>


</article>
</main>




            <aside class="read-more-wrap outer">
                <div class="read-more inner">
                        
<article class="post-card post">

    <a class="post-card-image-link" href="/the-hard-thing-about-hard-things/">

        <img class="post-card-image"
            srcset="/content/images/size/w300/2024/03/IMG_4720.jpg 300w,
                    /content/images/size/w600/2024/03/IMG_4720.jpg 600w,
                    /content/images/size/w1000/2024/03/IMG_4720.jpg 1000w,
                    /content/images/size/w2000/2024/03/IMG_4720.jpg 2000w"
            sizes="(max-width: 1000px) 400px, 800px"
            src="/content/images/size/w600/2024/03/IMG_4720.jpg"
            alt="The Hard Thing About Hard Things"
            loading="lazy"
        />


    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="/the-hard-thing-about-hard-things/">
            <header class="post-card-header">
                <div class="post-card-tags">
                </div>
                <h2 class="post-card-title">
                    The Hard Thing About Hard Things
                </h2>
            </header>
                <div class="post-card-excerpt">Book notes on "The Hard Thing About Hard Things"</div>
        </a>

        <footer class="post-card-meta">
            <time class="post-card-meta-date" datetime="2024-04-29">Apr 29, 2024</time>
                <span class="post-card-meta-length">2 min read</span>
        </footer>

    </div>

</article>
                        
<article class="post-card post">

    <a class="post-card-image-link" href="/fall-in-love-with-the-problem-not-the-solution/">

        <img class="post-card-image"
            srcset="/content/images/size/w300/2024/03/IMG_3712.jpg 300w,
                    /content/images/size/w600/2024/03/IMG_3712.jpg 600w,
                    /content/images/size/w1000/2024/03/IMG_3712.jpg 1000w,
                    /content/images/size/w2000/2024/03/IMG_3712.jpg 2000w"
            sizes="(max-width: 1000px) 400px, 800px"
            src="/content/images/size/w600/2024/03/IMG_3712.jpg"
            alt="Fall In Love With the Problem, Not the Solution"
            loading="lazy"
        />


    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="/fall-in-love-with-the-problem-not-the-solution/">
            <header class="post-card-header">
                <div class="post-card-tags">
                </div>
                <h2 class="post-card-title">
                    Fall In Love With the Problem, Not the Solution
                </h2>
            </header>
                <div class="post-card-excerpt">Book notes on "Fall in Love With the Problem, Not the Solution"</div>
        </a>

        <footer class="post-card-meta">
            <time class="post-card-meta-date" datetime="2024-04-29">Apr 29, 2024</time>
                <span class="post-card-meta-length">1 min read</span>
        </footer>

    </div>

</article>
                        
<article class="post-card post">

    <a class="post-card-image-link" href="/college-decisions/">

        <img class="post-card-image"
            srcset="/content/images/size/w300/2024/04/iStock-155441000.jpg 300w,
                    /content/images/size/w600/2024/04/iStock-155441000.jpg 600w,
                    /content/images/size/w1000/2024/04/iStock-155441000.jpg 1000w,
                    /content/images/size/w2000/2024/04/iStock-155441000.jpg 2000w"
            sizes="(max-width: 1000px) 400px, 800px"
            src="/content/images/size/w600/2024/04/iStock-155441000.jpg"
            alt="College Decisions"
            loading="lazy"
        />


    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="/college-decisions/">
            <header class="post-card-header">
                <div class="post-card-tags">
                </div>
                <h2 class="post-card-title">
                    College Decisions
                </h2>
            </header>
                <div class="post-card-excerpt">College sucks... kinda.</div>
        </a>

        <footer class="post-card-meta">
            <time class="post-card-meta-date" datetime="2024-04-10">Apr 10, 2024</time>
                <span class="post-card-meta-length">2 min read</span>
        </footer>

    </div>

</article>
                </div>
            </aside>



    </div>

    <footer class="site-footer outer">
        <div class="inner">
            <section class="copyright"><a href="https://blog.dylanlu.com">Dylan&#x27;s Dev Blog</a> &copy; 2024</section>
            <nav class="site-footer-nav">
                
            </nav>
            <div class="gh-powered-by"><a href="https://ghost.org/" target="_blank" rel="noopener">Powered by Ghost</a></div>
        </div>
    </footer>

</div>

    <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="pswp__bg"></div>

    <div class="pswp__scroll-wrap">
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>
<script
    src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous">
</script>
<script src="/assets/built/casper.js?v=b04e58d8db"></script>
<script>
$(document).ready(function () {
    // Mobile Menu Trigger
    $('.gh-burger').click(function () {
        $('body').toggleClass('gh-head-open');
    });
    // FitVids - Makes video embeds responsive
    $(".gh-content").fitVids();
});
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/components/prism-core.min.js" integrity="sha512-9khQRAUBYEJDCDVP2yw3LRUQvjJ0Pjx0EShmaQjcHa6AXiOv6qHQu9lCAIR8O+/D8FtaCoJ2c0Tf9Xo7hYH01Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.28.0/plugins/autoloader/prism-autoloader.min.js" integrity="sha512-fTl/qcO1VgvKtOMApX2PdZzkziyr2stM65GYPLGuYMnuMm1z2JLJG6XVU7C/mR+E7xBUqCivykuhlzfqxXBXbg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</body>
</html>
